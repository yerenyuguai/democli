<template>
 <div class="app">
   <h1>{{msg}}</h1>
   <hr>
   <!-- é€šè¿‡çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ é€’å‡½æ•°ç±»åž‹çš„propså®žçŽ°ï¼š å­ç»™çˆ¶äº²ä¼ é€’æ•°æ® -->
    <SongMsg :getSongName='getSongName'/>
    <hr>
    <!-- ç”±äºŽv-onåœ¨SingerMsgç»„ä»¶æ ‡ç­¾ä¸Šï¼Œæ‰€ä»¥è¯´æ˜¯ç»™SingerMsgç»„ä»¶çš„å®žä¾‹å¯¹è±¡vcç»‘å®šäº†ä¸€ä¸ªäº‹ä»¶ï¼Œäº‹ä»¶åå­—å«åš
    huoqumingziï¼Œå¦‚æžœä»¥åŽæœ‰äººè§¦å‘äº†è¿™ä¸ªäº‹ä»¶ï¼ŒgetSingerNameå‡½æ•°å°±ä¼šè¢«è°ƒç”¨ -->
    <!--  é€šè¿‡çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶æ¥å®žçŽ°ï¼šå­ç»™çˆ¶äº²ä¼ é€’æ•°æ® (ç¬¬ä¸€ç§å†™æ³•@æˆ–è€…v-on) -->
    <SingerMsg v-on:huoqumingzi='getSingerName'/>
    <hr>
    <!--  å¦å¤–çš„æ–¹å¼  refå±žæ€§  (ç¬¬äºŒç§å†™æ³•  ä½¿ç”¨ref)  è¿™ä¸ªå¯ä»¥å»¶æ—¶æ“ä½œï¼Œæ¯”å¦‚è¿™é‡Œåœ¨mounted(),è£…è½½å®Œæ¯•åŽè§¦å‘-->
    <SingerMsg ref="singer"/>
 </div>
</template>

<script>
  //å¼•å…¥å­ç»„ä»¶
  import SongMsg from './components/SongMsg.vue'
  import SingerMsg from './components/SingerMsg.vue'
  export default {
      name:'App',
      components:{SongMsg, SingerMsg,},
      data() {
        return {
          msg:'æ–°ä¸“è¾‘ä»€ä¹ˆæ—¶å€™å‘å•ŠðŸ˜…'
        }
      },
      methods:{
        getSongName(name){
          console.log('Appæ”¶åˆ°æ­Œæ›²åï¼š',name);
        },
        getSingerName(name,...a){ //ES6 è¯­æ³• ...a åœ¨è¿™é‡Œé™¤äº†nameï¼Œå…¶ä½™çš„å±žæ€§éƒ½æ”¾åˆ°aè¿™ä¸ªæ•°ç»„é‡Œ
        //  åŽŸæœ¬getSingerName(name,x,y) { console.log('demoè¢«è°ƒç”¨äº†',name,x,y); }
          console.log('demoè¢«è°ƒç”¨äº†',name,a);
        }
      },
      //ç¬¬ä¸‰ä¸ªæ–¹æ³• refå±žæ€§
      mounted(){
        //è£…è½½å®ŒæˆåŽæ‰æœ‰æ•ˆæžœï¼Œå³ä¸ºæµè§ˆå™¨æ‰“å¼€3såŽè§¦å‘æ‰èƒ½è¾“å‡º
        setTimeout(()=>{
          //this.$refs.singer SingerMsgç»„å»ºçš„å®žä¾‹å¯¹è±¡  $on å½“..ä»€ä¹ˆæ—¶å€™
        this.$refs.singer.$on('huoqumingzi',this.getSingerName,this.x,this.y)
        },3000)
      }
  }
</script>

<style>
.app{
  background: pink;
  padding: 5px;
}
</style>